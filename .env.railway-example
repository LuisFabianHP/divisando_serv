# ==========================================
# üöÇ DIVISANDO API - RAILWAY ENVIRONMENT
# ==========================================
# Copia este archivo a Railway Dashboard como variables de entorno
# Reemplaza los valores marcados con <REEMPLAZAR> seg√∫n tu configuraci√≥n
# 
# INSTRUCCIONES:
# 1. Ve a https://railway.app/dashboard
# 2. Selecciona proyecto "Divisando"
# 3. Pesta√±a "Variables"
# 4. Copia cada variable con su valor correspondiente
# ==========================================

# ---------- SERVIDOR ----------
PORT=5000
API_NAME=Divisando API Server
NODE_ENV=production

# ---------- SEGURIDAD ----------
API_KEY=@S3gUr@L0kP@sSw0rD!2o25
API_ALLOWED_USER_AGENTS=DivisandoApp/1.0
API_CROS_DOMAINS=https://divisando-serv-production.up.railway.app

# ---------- JWT (JSON Web Tokens) ----------
JWT_SECRET=&C1%n$8w!tTz%qPfD2^rB4g*UjE5m&9K7v^1$WfM3!@NcR6
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=!pN6tWz6jD^hY*Dk2fJ3r@dA7lQ
JWT_REFRESH_EXPIRES_IN=7d

# ---------- BASE DE DATOS - MongoDB Atlas ----------
# REEMPLAZAR: Reemplaza <PASSWORD> con la contrase√±a de divUsDev
MONGO_URI=mongodb+srv://divUsDev:<PASSWORD>@cluster0.hpj4zub.mongodb.net/divisandoDB?retryWrites=true&w=majority&appName=Cluster0

# ---------- OPTIMIZACI√ìN MEMORIA ----------
# Solo necesario si vas a escalar - usa defaults para Free Plan
RATE_LIMIT_STORE_MAX_ENTRIES=5000
MONGO_MAX_POOL_SIZE=10
MONGO_MIN_POOL_SIZE=2
MONGO_MAX_IDLE_MS=60000
MEMORY_MONITOR_CRON=*/5 * * * *
GC_CRON=*/30 * * * *

# ---------- EXCHANGE RATE API ----------
# API Key: https://www.exchangerate-api.com/
EXCHANGE_RATE_API_URL=https://v6.exchangerate-api.com/v6/
EXCHANGE_RATE_API_KEY=fb5d1071f5acb7da936cbe5a
EXCHANGE_RATE_CRON=0 */6 * * *
EXCHANGE_RATE_CURRENCIES=USD,MXN,EUR,CAD
EXCHANGE_RATE_RECENT_HOURS=6

# ---------- GOOGLE OAUTH (Mobile/Flutter) ----------
# MOBILE ONLY - Valida idToken usando google-auth-library (sin Passport)
# Cliente ID: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=530315387189-gpqqu8ovq9o408ofmt8jm6p83mssvm6u.apps.googleusercontent.com
# ‚ùå NO necesario: GOOGLE_CLIENT_SECRET (removido, solo para Passport web)
# ‚ùå NO necesario: GOOGLE_CALLBACK_URL (removido, solo para Passport web)

# ---------- APPLE OAUTH (Mobile/Flutter) ----------
# MOBILE ONLY - Valida identityToken localmente
# No requiere variables de entorno

# ==========================================
# NOTAS IMPORTANTES
# ==========================================
# 
# 1. SEGURIDAD
#    - NUNCA subas este archivo a Git
#    - Usa Railway Dashboard para gestionar secretos
#    - Los valores aqu√≠ son EJEMPLO - reemplaza con secretos reales
#
# 2. VARIABLES REMOVIDAS (Ya no se usan)
#    - GOOGLE_CLIENT_SECRET ‚ùå
#    - GOOGLE_CALLBACK_URL ‚ùå
#    - FACEBOOK_APP_ID ‚ùå
#    - FACEBOOK_APP_SECRET ‚ùå
#    (Passport web fue removido en favor de autenticaci√≥n mobile directa)
#
# 3. REQUERIDAS PARA FUNCIONAR
#    ‚úÖ MONGO_URI - Imprescindible para BD
#    ‚úÖ GOOGLE_CLIENT_ID - Para validar Google idToken en mobile
#    ‚úÖ EXCHANGE_RATE_API_KEY - Para obtener tasas de cambio
#    ‚úÖ JWT_SECRET y JWT_REFRESH_SECRET - Para firmar tokens
#
# 4. OPTIMIZACI√ìN DE MEMORIA (Free Plan)
#    El plan Free de Railway tiene 512 MB RAM
#    Las variables de optimizaci√≥n son cr√≠ticas para evitar heap overflow
#    Ver RAILWAY_ENV.md secci√≥n 7 para detalles
#
# 5. TESTING
#    Para probar localmente:
#    - Guarda este archivo como .env en divisando_serv/
#    - npm install
#    - npm run dev
#
#    Health check:
#    curl http://localhost:5000/health
#
# ==========================================
